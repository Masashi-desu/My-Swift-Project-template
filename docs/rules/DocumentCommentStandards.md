# プロジェクト用カスタムプロンプト

このドキュメントは Codex（および類似の自動化ツール）が __APP_NAME__ で作業する際の指針をまとめたものです。追加ルールは必ずここへ追記し、常に最新版を参照します。

---

## プロジェクト共通ルール: Swift ドキュメントコメント方針

### 概要
Swift の各要素（`func` / `enum` / `struct` / `class` / `protocol`）には、一貫したフォーマットの `///` ドキュメントコメントを必ず記述します。Codex は下記ルールに従い、自動生成・補完を行います。

---

## 共通ルール

### 基本方針
- ドキュメントコメントには必ず `///` を使用する。
- すべて日本語で記載し、「論理名（日本語）」と「概要説明」を必ず含める。
- `- Parameters:` や `- Returns:` など Xcode Quick Help に対応した Markdown セクションを用いる。
- URL が存在する場合は末尾に `参考URL:` を付与する。複数ある場合は行を重ねる。
- `参考URL` が未確定のときのみ省略可。後日確認できたら追記する。

---

## 関数（func）のコメントテンプレート

```swift
/// 論理名（日本語）:
/// この関数の目的や意味を簡潔に記載。
///
/// 処理概要:
/// 処理の流れや役割を説明。
///
/// - Parameters:
///   - parameter1: 引数1の説明。
///   - parameter2: 引数2の説明。
/// - Returns: 戻り値の説明。
///
/// 参考URL:
/// https://example.com/reference
```

---

## 列挙型（enum）のコメントテンプレート

```swift
/// 論理名（日本語）:
/// この列挙型が表す概念を記載。
///
/// 概要:
/// 主な用途や利用シーンを説明。
///
/// 定義内容:
/// 各ケースの意味を列挙して説明。
///
/// 参考URL:
/// https://example.com/reference
```

---

## 構造体（struct）のコメントテンプレート

```swift
/// 論理名（日本語）:
/// この構造体が表すデータやモデルを記載。
///
/// 概要:
/// 主な用途や役割を説明。
///
/// プロパティ:
/// - `id`: 一意の識別子。
/// - `name`: 表示名。
///
/// 参考URL:
/// https://example.com/reference
```

---

## クラス（class）のコメントテンプレート

```swift
/// 論理名（日本語）:
/// このクラスが担当する機能や責務を記載。
///
/// 概要:
/// クラスの役割や他クラスとの関係、主要なメソッドを説明。
///
/// プロパティ:
/// - `items`: 保持するデータの一覧。
///
/// メソッド:
/// - `load()`: データを読み込む処理。
///
/// 参考URL:
/// https://example.com/reference
```

---

## プロトコル（protocol）のコメントテンプレート

```swift
/// 論理名（日本語）:
/// このプロトコルが定義する共通インターフェースを記載。
///
/// 概要:
/// 採用する型が実装すべき要件や役割を説明。
///
/// 要件:
/// - `start()`: 処理を開始するメソッド。
/// - `stop()`: 処理を停止するメソッド。
///
/// 参考URL:
/// https://example.com/reference
```

---

## 運用ルール
1. 新規実装を追加する際、Codex は該当テンプレートを必ず挿入する。
2. 既存コードでコメントが欠けている場合、Codex はテンプレートを挙入し、レビューコメントで不足を通知する。
3. コメント生成時は命名規則（camelCase / PascalCase）から日本語論理名を推測して補完する。
4. ジェネリックやタプルなど複合型の場合も、型や期待値を簡潔に記す。
5. `参考URL` が存在しない場合はセクションごと省略してよいが、確定次第追記する。

---

## 出力例

```swift
/// 論理名（日本語）: データ読み込み関数
/// 処理概要: 指定されたURLからデータを非同期で取得し、キャッシュに保存する。
///
/// - Parameter url: データ取得元のURL。
/// - Returns: 正常にデータが取得できた場合はtrue、失敗した場合はfalseを返す。
///
/// 参考URL:
/// https://developer.apple.com/documentation/foundation/urlsession
func loadData(from url: URL) async -> Bool {
    ...
}
```

---

## その他メモ
- パラメータや戻り値がジェネリックのときは型パラメータの意図も明文化する。
- 参考情報が複数ある場合は `/// 参考URL:` 行を複数並べ、重要度順に記載する。
- 追加ルールが発生したら本ファイルへ追記し、変更点を Pull Request で共有する。
